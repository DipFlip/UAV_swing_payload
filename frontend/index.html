<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drone + Hanging Weight Simulation</title>
    <link rel="stylesheet" href="style.css?v=1.6">
</head>
<body>
    <div id="container">
        <canvas id="canvas"></canvas>

        <div id="hud">
            <div id="hud-header"><h3>Simulation HUD</h3><button id="hud-toggle">&#x25BC;</button></div>
            <div id="hud-content">
                <div id="hud-time">Time: 0.00 s</div>
                <div id="hud-drone">Drone: (0, 0, 0)</div>
                <div id="hud-weight">Weight: (0, 0, 0)</div>
                <div id="hud-angles">Angles: φx=0.00° φy=0.00°</div>
                <div id="hud-control">Control: Fx=0 Fy=0 Fz=0</div>
                <div id="hud-status">Status: Connecting...</div>
                <div id="hud-version" style="color:#666;font-size:11px">v1.6</div>
            </div>
        </div>

        <div id="chart-panel">
            <div id="chart-header"><span>Charts</span><button id="chart-toggle">&#x25BC;</button></div>
            <div id="chart-content"></div>
        </div>

        <div id="controls">
            <h3>Goal Position</h3>
            <div class="slider-group">
                <label>X: <span id="x-val">0.0</span> m</label>
                <input type="range" id="slider-x" min="-10" max="10" step="0.5" value="0">
            </div>
            <div class="slider-group">
                <label>Y: <span id="y-val">0.0</span> m</label>
                <input type="range" id="slider-y" min="-10" max="10" step="0.5" value="0">
            </div>
            <div class="slider-group">
                <label>Z: <span id="z-val">1.0</span> m</label>
                <input type="range" id="slider-z" min="0" max="15" step="0.5" value="1">
            </div>
            <h3>Physics</h3>
            <div class="slider-group">
                <label>Drone mass: <span id="md-val">2.0</span> kg</label>
                <input type="range" id="slider-md" min="0.5" max="10" step="0.5" value="2.0">
            </div>
            <div class="slider-group">
                <label>Payload: <span id="mw-val">5.0</span> kg</label>
                <input type="range" id="slider-mw" min="0.5" max="20" step="0.5" value="5.0">
            </div>
            <div class="slider-group">
                <label>Rope: <span id="rope-val">4.0</span> m</label>
                <input type="range" id="slider-rope" min="1" max="10" step="0.5" value="4.0">
            </div>
            <div class="slider-group">
                <label>Max force: <span id="fmax-val">80</span> N</label>
                <input type="range" id="slider-fmax" min="5" max="200" step="5" value="80">
            </div>
            <h3>Controller</h3>
            <div class="slider-group">
                <label>Aggression: <span id="aggr-val">50</span>%</label>
                <input type="range" id="slider-aggr" min="5" max="100" step="5" value="50">
            </div>
            <div class="slider-group">
                <label>Time scale: <span id="timescale-val">100</span>%</label>
                <input type="range" id="slider-timescale" min="5" max="100" step="5" value="100">
            </div>
            <div class="slider-group">
                <label>Pattern spd: <span id="speed-val">1.0</span>x</label>
                <input type="range" id="slider-speed" min="0.2" max="3.0" step="0.2" value="1.0">
            </div>
            <div class="button-group">
                <button id="btn-pause">Pause</button>
                <button id="btn-go">Go</button>
                <button id="btn-pattern">Square</button>
                <button id="btn-reset">Reset</button>
            </div>
        </div>
    </div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>
    <script type="module" src="main.js?v=1.6"></script>
</body>
</html>
